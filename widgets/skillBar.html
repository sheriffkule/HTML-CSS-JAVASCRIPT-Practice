<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Skill Box</title>
  <link rel="stylesheet" href="/widgets_style/skilBar.css">
</head>

<body>

  <div class="container">
    <h3>My Skills</h3>

    <div class="box">
      <p>HTML</p>
      <div class="progress_bar_box">
        <div class="progress_bar">
          <span class="line"></span>
        </div>
        <p class="increasing_percentage">0%</p>
        <div class="total_percentage">82%</div>
      </div>
    </div>

    <div class="box">
      <p>CSS</p>
      <div class="progress_bar_box">
        <div class="progress_bar">
          <span class="line"></span>
        </div>
        <p class="increasing_percentage">0%</p>
        <div class="total_percentage">85%</div>
      </div>
    </div>

    <div class="box">
      <p>JAVASCRIPT</p>
      <div class="progress_bar_box">
        <div class="progress_bar">
          <span class="line"></span>
        </div>
        <p class="increasing_percentage">0%</p>
        <div class="total_percentage">30%</div>
      </div>
    </div>

    <div class="box">
      <p>REACT</p>
      <div class="progress_bar_box">
        <div class="progress_bar">
          <span class="line"></span>
        </div>
        <p class="increasing_percentage">0%</p>
        <div class="total_percentage">15%</div>
      </div>
    </div>

    <div class="box">
      <p>REACT NATIVE</p>
      <div class="progress_bar_box">
        <div class="progress_bar">
          <span class="line"></span>
        </div>
        <p class="increasing_percentage">0%</p>
        <div class="total_percentage">50%</div>
      </div>
    </div>

  </div>

  <script>

    let boxes = document.querySelectorAll('.box');

    window.onload = function () {
      setTimeout(() => {
        load_bars();
      }, 1000)
    }

    function load_bars() {
      boxes.forEach(box => {
        let line = box.querySelector('.line');
        let increasing_percentage = box.querySelector('.increasing_percentage');
        let total_percentage = box.querySelector('.total_percentage');

        let p = 0;
        let my_interval = setInterval(() => {
          p++;
          line.style.width = p + '%';
          increasing_percentage.innerHTML = p + '%';
          if (increasing_percentage.innerHTML === total_percentage.innerHTML) {
            clearInterval(my_interval);
          }
        }, 50)
      })
    }

  </script>
</body>

</html>